Generation-103

Тема урока: генераторы множеств, frozenset

1. Генераторы множеств
2. Неизменяемые множества frozenset

Аннотация. Урок посвящен генератором множеств и типу данных frozenset

Генераторы множеств
Пусть требуется создать множество, содержащее цифры введенного числа.
Приведенный ниже код:
digits = set(int(input()))

приводит к возникновению ошибки:
TypeError: 'int' object is not iterable

поскольку функция set() принимает в качестве аргумента итерируемый объект, а число (тип данных int) таковым не является.

Приведенный ниже код:
digits = set(input())

при вводе строки "12345" создает множество символов {'1', '2', '3', '4', '5'}, а не множество цифр {1,2,3,4,5}

Для создания требуемого множества, содержащего уникальные цифры введенного числа, нам придется написать код:
digits = set()

for c in input():
  digits.add(int(c))

Такой код зоть и не сложен, однакодостаточно громоздок.

Для создания множеств в Python можно использовать специальный синтаксис? как при создании списка№

Приведенный выше код можно переписать с использованием генератора множеств;
digits = {int(c) for c in input()}
Общий вид генератора множеств следующий:
{выражение for переменная in последовательность}

где выражение - некоторое выражение, как правило, зависящее от использованной в генераторе множеств переменной, которым будут заполнены элементы множества, переменная - имя некоторой переменной,
последовательность - последовательность значений, которые она принимает (любой итерируемый объект).

Примеры использования генератора множеств
1. Создать множество, заполненное квадратами целых чисел от 0 до 9, можно так:
squares = {i**2 for i in range(10)}

2. Создать множество, заполненное кубами целых чисел от 10 до 20, можно так:
cubes = {i**3 for i in range(10,21)}

3. Создать множество, заполненное символами строки, можно так:
chars = {c for c in 'abcdefg'}

Условия в генераторе множеств

В генераторах множеств можно использовать условный оператор. Например, если требуется создать множество, заполненное только цифрами некоторой строки. то мы можем написать такод код:
digits = {int(d) for d in 'abcd12ef78ghj90' if d.isdigit()}
