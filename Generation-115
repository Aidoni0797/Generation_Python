Generation-115

Тема урока: методы словарей
1. Добавление и изменение элементов в словаре
2. Удаление элементов изсловаря
3. Методы get(), update()
4. Методы pop(), popitem()
5. Методы clear(), copy()
6. Метод setdefault()

Аннотация. В этом уроке мы изучим основные методы словарей.

Методы словарей

Словари, как и списки много полезных методов для упрощения работы с ними и решения повседневных задач. В прошлом уроке мы уже познакомились с тремя словарными методами:
- метод items() - возвращает словарные пары ключ:значение, как соответствующие им кортежи;
- метод keys() - возвращает список ключей словаря
- метод values() - возвращает список значений словаря

Добавление и изменение элементов в словаре

Чтобы изменить значение по определенному ключу в словаре, достаточно использовать индексацию вместе с оператором присваивания. При этом если ключ уже присутствует в словаре, его
значение заменяются новым, если же ключ отсутсвует  - то в словарь будет добавлен новый элемент.

Приведенный ниже код:
info = {'name':'Sam', 'ages':28,'job':'Teacher'}
info['name'] = 'Timur'
info['email'] = 'timyr-guev@yandex.ru'

print(info)

выводит (порядок элементов может отличаться):
{'name':'Timur','age':28,'job':'Teacher','email':'timyr-guev@yandex.ru'}

Обратите внимание на отличие в поведении словарей и списков:

- Если в списке lst нет элемента с индексом 7, то попытка обращения к нему, например, с помощью строки кода print(lst[7]) приведет к возникновению ошибки.
И попытка присвоит ему значение lst[7] = 100 тоже приведет к возникновению ошибки.

- Если в словаре dct нет элемента с ключом name, то попытка обращения к нему, например, с помощью строки кода print(dct['name']) приведет к возникновению
ошибки. Однако попытка присвоить значение по сущесвтующему ключу dct['name'] = 'Timur' ошибки не вызовет.

Решим следующую задачу: пусть задан список чисел numbers, где некоторые числа встречаются неоднократно. Нужно узнать, сколько именно раз встречается каждое из чисел.

numbers = [9,8,32,1,10,1,10,23,1,4,10,4,2,2,2,2,1,10,1,2,2,32,23,23]

Первый код, который приходит в голову, имеет вид:
numbers = [9,8,32,1,10,1,10,23,1,4,10,4,2,2,2,2,1,10,1,2,2,32,23,23]

result = {}
for num in numbers:
  result[num] += 1
Однако просто так сделать result[num] += 1 нельзя, так как если ключа num в словаре еще нет, то возникнет ошибка
KeyError.

Следующий программный код полностью решает поставленную задачу:

numbers = [9,8,32,1,10,1,10,23,1,4,10,4,2,2,2,2,1,10,1,2,2,32,23,23]

result = {}
for num in numbers:
  if num not in result:
    result[num] = 1
  else:
    result[num] += 1

Цикл for перебирает все элементы списка numbers и для каждого проверяет, присутствует ли он уже в качестве ключа в словаре 
result. Если значение отсутствует, значит, число встретилось впервые и мы инициируем значение result[num] = 1. Если
значение уже присутствует в словаре, увеличим result[num] на единицу.

Этот код можно улучшить с помощью метода get().

Метод get()

Мы можем получить значение в словаре по ключу  с помощью индексации, то есть квдратных скобок. Однако, как мы знаем, в
случае отсутствия ключа будет происходить ошибка KeyError.

Приведенный ниже код:
info = {
  'name': 'Bob',
  'age':25,
  'job':'Dev'
}

print(info['name'])

выводит:
Bob

Приведенный ниже код:
info = {
  'name': 'Bob',
  'age': 25,
  'job': 'Dev'
}
print(info['salary'])
приводит к возникновению ошибки:
KeyError: 'salary'

Для того чтобы избежать возникновения ошибки в случае отсутствия ключа в словаре, можно использовать метод get(),
способный кроме ключа принимать и второй аргумент - значение, которое вернется, если заданного ключа нет. Когда второй
аргумент не указан, то метод в случае отсуствия ключа возвращает None.

Приведенный ниже код:
info = {
  'name': 'Bob',
  'age': 25,
  'job': 'Dev'
}
item1 = info.get('salary')
item2 = info.get('salary', 'Информация о зарплате нет')

print(item1)
print(item2)
