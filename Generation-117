Generation-117

info2 = {
  'age': 30,
  'city': 'New York',
  'email': 'bob@web.com'
}

info1 |= info2
print(info1)

аналогичен предыдущему коду.

Метод setdefault()

Метод setdefault() позволяет получить значение из словаря по заданному ключу, автоматически добавляя элемент словаря, если он отсутствует.

Метод принимает два аргумента:
- key: ключ, значение по которому следует получить, если таковое имеется в словаре, либо создать.
- default: значение, которое будет использовано при добавлении нового элемента в словарь.

В зависимости от значений параметров key и default возможны следующие сценарии работы данного метода.

сценарий 1. Если ключ key присутствует в словаре, то метод возвращает значение по заданному ключу (независимо от того, передан параметр default или нет).

Приведенный ниже код:

info = {'name': 'Bob', 'age': 25}

name1 = info.setdefault('name') # параметр default задан
name2 = info.setdefault('name', 'Max') # параметр default задан

print(name1)
print(name2)

вывод:
Bob
Bob

Сценарий 2. Если ключ key отсутствует в словаре,то метод вставляет переданное значение default по заданному ключу.

Приведенный ниже код:
info = {'name': 'Bob', 'age': 25}

job = info.setdefault('job', 'Dev')
print(info)
print(job)

выводит:
{'name': 'Bob', 'age':25, 'job': 'Dev'}
Dev

При этом если значение default не передано в метод, то вставится значение None

Приведенный ниже код:

info = {'name': 'Bob', 'age': 25}
job = info.setdefault('job')
print(info)
print(job)

выводит:
{'name': 'Bob', 'age': 25, 'job': None}
None

Удаление элементов из словаря
Существует несколько способов удаления элементов из словаря:
- оператор del
- метод pop()
- метод popitem()
- метод clear()

Оператор del

С помощью оператора del можно удалять элементы словаря по определенному ключу.

Приведенный ниже код:
info = {
  'name': 'Sam',
  'age': 28,
  'job': 'Teacher',
  'email': 'timyr-guev@yandex.ru'
}

del info['email'] # удаляем элемент имеющий ключ email
del info['job'] # удаляем элемент имеющий ключ job

выводит (порядок элементов может отличаться):
{'name': 'Same', 'age':28}

Если удаляемого ключа в словаре нет, возникнет ошибка KeyError

Метод pop()

Оператор del удаляет из словаря элемент по заданному ключу вместе с его значением. Если требуется получиьт само значение удалямого элемента, то нужен метод pop().

Приведенный ниже код:
info = {'name': 'Sam',
  'age':28,
  'job':'Teacher',
  'email': 'timyr-guev@yandex.ru'
}

email = info.pop('email') #удаляем элемент по ключу email, возвращая его значение
job = info.pop('job') #удаляем элемент по ключу job, возвращая его значение

print(email)
print(job)
print(info)

выводит:
timyr-guev@yandex.ru
Teacher
{'name':'Sam', 'age':28}

Единственное отличие этого способа удаления от оператора del - он возвращает удаленное значение. В остальном этот способ идентичен оператору del. В частности, если удалямого ключа в словаре нет,
возникнет ошибка KeyError.

Чтобы ошибка не появлялась, этому методу можно передать второй аргумент. Он будет возвращен, если указанного ключа в словаре нет. Это позволяет реализовать безопасное удаление элемента из словаря:

surname = info.pop('surname', None)

Если ключа surname в словаре нет, то в переменной surname будет храниться значение None.
