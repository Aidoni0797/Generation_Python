Generation-74

Распаковка кортежей

Обратная операция, смысл которой в том, чтобы присвоить значения элементов кортежа отдельным переменным, называется распаковкой кортежа.

Приведенный ниже код:
colors = ('red', 'green', 'blue', 'cyan')
(a,b,c,d) = colors

print(a)
print(b)
print(c)
print(d)

выводит:

red
green
blue
cyan

В приведенном примере кортеж colors распаковывается в переменные a,b,c,d.

Мы можем опустить скобки слева от знака равенства:
colors = ('red','green','blue','cyan')
a,b,c,d = colors

Количество переменных должно совпадать с числом элементов в кортеже.

Пприведенный ниже код:
colors = ('red','green','blue','cyan')
a,b = colors

приводит к ошибке:
ValueError: too many values to unpack

Аналогично, приведенный ниже код:

colors = ('red', 'green', 'blue')
a,b,c,d = colors

приводит к ошибке:
ValueError: not enough values to unpack(expected4.got3)

Однако, если необходимо получить лишь какие-то отдельные значения, то в качестве "ненужных" переменных позволено использовать символ нижнего
подчеркивания _.
Приведенный ниже код:

colors = ('red', 'green', 'blue')
a,b, _ = colors

print(a)
print(b)

выводит:
red
green

Распаковка кортежей очень удобна на практике. По сути мы использовали ее, когда меняли местами значения двух переменных без использования временных
переменных.

Приведенный ниже код:

a = 7
b = 17
a,b = b,a
print(a,b)

выводит:
17 7
Сначала вычисляются все значения справа, и лишь затем они кладутся в левую часть оператора присваивания. Поэтому можно менять местами значения переменных a и b,
написав: a,b = b,a

Приведенный ниже код:
a,b,c = 3,2,1
b,a,c=c,a,b
print(b,c,a)

выводит:
1 2 3

* при распаковке кортежей

Как мы знаем, если при распаковке кортежа число элементов слева и справа не совпадает, то возникает ошибка времени исполнения. Есть способ собрать
сразу несколько значений в одну переменную. Это делается при помощи звездочки перед именем переменной.
Рассмотрим программный код:
a,b,*tail = 1,2,3,4,5,6

В этом случае в переменной а будет записана единица, в переменной b - двойка, а в переменной tail - список, состоящий из всех аргументов, которые
не попали в предыдущие переменные. В данном случае tail будет равен [3,4,5,6].

Учтите, что tail всегда будет списком, даже когда в него попадает лишь один элемент или даже ноль.

Приведенный ниже код:
a,b,*tail = 1,2,3
print(tail)
выводит:
[3]

Приведенный ниже код:
a,b,*tail = 1,2
print(tail)

выводит:
[]

Звездочка может быыть только у одного аргумента, но необязательно у последнего.

Приведенный ниже код:
*names, surname = ('Стефани', 'Джоанн', 'Анджелина', 'Джерманотта')
print(names)
print(surname)

выводит:
['Стефани','Джоанн','Анджелина']
Джерманотта

Аргумент со звездочкой может стоять и посередине.

Приведенный ниже код:
singer = ('Freddie', 'Bohemian Rhapsody', 'Killer Queen', 'Love of my life', 'Mercury')

names, *songs
